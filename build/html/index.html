<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>Craigslist Visualization & Analysis :: Used Cars for Sale in the United States</title>
  

  <link rel="icon" type="image/png" sizes="32x32" href="_static/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="_static/img/favicon-16x16.png">
        <link rel="index" title="Index"
              href="genindex.html"/>

  <link rel="stylesheet" href="_static/css/insegel.css"/>

  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'',
        VERSION:'',
        LANGUAGE:'None',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
    };
  </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script>

</head>

<body>
  <div id="insegel-container">
    <header>
      <div id="logo-container">
        <a href="#"><img src="_static/img/logo.svg"></a>
      </div>
      <div id="project-container">
        <h1>Craigslist Visualization & Analysis Documentation</h1>
      </div>
    </header>

    <div id="content-container">

      <div id="main-content-container">
        <div id="main-content-header">
          <h1><span class="raw-html-m2r"><center> Used Cars for Sale in the United States </center></span></h1>
        </div>
        <div id="main-content">
          
  <div class="section" id="center-used-cars-for-sale-in-the-united-states-center">
<h1><span class="raw-html-m2r"><center> Used Cars for Sale in the United States </center></span><a class="headerlink" href="#center-used-cars-for-sale-in-the-united-states-center" title="Permalink to this headline">¶</a></h1>
<div class="section" id="our-motivation">
<h2>Our Motivation<a class="headerlink" href="#our-motivation" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Buying a car is never an easy task, especially when buying a used one. So many different factors go into determining the price of a vehicle that it’s difficult to accurately predict what one should be paying. Aside from this there are some parts of the country where used car sales are few and far between and the prices are not so desirable. Using our dataset of used car sales we aimed to clarify some of these unknown variables and provide an easier experience for those searching for a car. Our goal was not to simply create static visualizations that compared cars from winter 2018, but instead we aim to create an application of sorts that allows users to continuously update the vehicles in their search.</p>
</div>
<div class="section" id="the-dataset">
<h2>The Dataset<a class="headerlink" href="#the-dataset" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Our dataset contains 1.7 million used vehicle sales from Craigslist.org</p>
<p>The columns are as follows:</p>
<ul class="simple">
<li><strong>url</strong> - Unique - <em>Listing URL</em></li>
<li><strong>city</strong> - String - <em>Given Craigslist region</em></li>
<li><strong>price</strong> - Integer - <em>Listing price</em></li>
<li><strong>year</strong> - Integer - <em>Year of manufacturing</em></li>
<li><strong>manufacturer</strong> - String - <em>Manufacturing company</em></li>
<li><strong>make</strong> - String - <em>Model of vehicle</em></li>
<li><strong>condition</strong> - String - <em>Condition of vehicle</em></li>
<li><strong>cylinders</strong> - String - <em>Number of cylinders</em></li>
<li><strong>fuel</strong> - String - <em>Type of fuel required</em></li>
<li><strong>odometer</strong> - Integer - <em>Miles traveled</em></li>
<li><strong>title_status</strong> - String - <em>Vehicle title status/existence</em></li>
<li><strong>transmission</strong> - String - <em>Transmission of vehicle</em></li>
<li><strong>drive</strong> - String - <em>Drive of vehicle</em></li>
<li><strong>size</strong> - String - <em>Size of vehicle</em></li>
<li><strong>type</strong> - String - <em>Type of vehicle</em></li>
<li><strong>paint_color</strong> - String - <em>Color of vehicle</em></li>
<li><strong>image_url</strong> - String - <em>Image URL</em></li>
<li><strong>latitude</strong> - Integer - <em>Latitude of listing</em></li>
<li><strong>longitude</strong> - Integer - <em>Longitude of listing</em></li>
<li><strong>county_name</strong> - String - <em>Name of County in which listing is located</em></li>
<li><strong>county_fips</strong> - Integer - <em>County of listing’s Federal Information Processing Standards code</em></li>
<li><strong>state_code</strong> - String - <em>Name of state in which listing is located</em></li>
<li><strong>state_name</strong> - String - <em>2 letter state abbreviation</em></li>
<li><strong>state_fips</strong> - Integer - <em>State of listing’s Federal Information Processing Standards code</em></li>
<li><strong>weather</strong> - Integer - <em>Average historical temperature of listing’s location between October and November</em></li>
</ul>
</div>
<div class="section" id="initial-creation">
<h2>Initial Creation<a class="headerlink" href="#initial-creation" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>We deployed a scraper which utilized python and requestsHTML to take every used car for sale from every North American Craigslist website. Regions were located by continuously following <em>Nearby CL</em> links until no unexplored website remained.</p>
<a class="reference external image-reference" href="img/craigs3.png"><img alt="craigs3.png" src="_images/craigs3.png" /></a>
<p>Following the cars+trucks link takes us to the following page.</p>
<a class="reference external image-reference" href="img/craigs1.png"><img alt="craigs1.png" src="_images/craigs1.png" /></a>
<p>The price and image url were pulled from the search page, while the rest of the variables were pulled from the main listing page.</p>
<a class="reference external image-reference" href="img/craigs2.png"><img alt="craigs2.png" src="_images/craigs2.png" /></a>
<p>Latitude/Longitude was pulled from a specific tag on the Google Maps object, and the rest were pulled from the variables below. Not all variables were listed with every vehicle, so some rows contain blank values.</p>
<p>The program loops through every listing on the search page then continues looping through the search pages (e.g. the next button at the bottom of search results) until there are no more results. Once the end is reached the program moves on to the next untapped region and restarts this process, continuing until all regions have been explored.</p>
</div>
<div class="section" id="secondary-data-gathering">
<h2>Secondary Data Gathering<a class="headerlink" href="#secondary-data-gathering" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The data we have gathered so far seems very promising for exploration, however, we feel like it should be more grounded, literally. We wanted to connect each car being sold on Craigslist to a State and even a County. This would help us in our visualization and might give us some insights in our analysis.</p>
<p>Before we look into how to bring the geographical data, we need to decide whether we think we should only use our initial 700,000 entries taken by the end of October, or to incorporate more recent entries from Craigslist that we were able to scrape at the beginning of November. After some thinking, we’ve decided that it would not hurt to merge the data we’ve gathered between October and November. We started with 700,000 entries of vehicles being sold by late October and expanded to 1,700,000 by early November. However, this is not going to be an easy task.</p>
<div class="section" id="merging-data">
<h3>Merging Data<a class="headerlink" href="#merging-data" title="Permalink to this headline">¶</a></h3>
<p>We need to find out a way to merge the data, and to remove any duplicates that might had been on the website when we started our initial data collection and was still live on Craigslist by the time we did our second scraping. Furthermore, we did not want to keep working on the data in its CSV format, but rather use SQL for and have a Database on disk until we’re done with our data collection. We decided that the data can be saved as a db format using sqlite, and that we would make URL column a primary key since it is a unique field. Having the URL as a primary key helped us merge the data we scrapped in October and November without any duplicates. Alas, we have 1.7 million vehicles in our dataset.</p>
</div>
<div class="section" id="finding-geographical-information">
<h3>Finding Geographical Information<a class="headerlink" href="#finding-geographical-information" title="Permalink to this headline">¶</a></h3>
<p>As we begin, we assumed that our data having longitudes and latitudes would make this quest an easy one, but such is life. First, we have to understand that our data at this point is very big, and that a simple API would not let us make 1.7 million calls, and then we have to also know that sqlite does not support concurrent tasks and would only allow one entry to be updated per database.</p>
<p>We tried searching for any database that would provide us the State and the Country given that we pass in longitude and latitude, but all our efforts were not successful. At one point, we almost gave up on this task, especially that the kind of providers we could find were either unreliable or quite expensive.</p>
<p>Fortunately, we came across a Federal website that among the data they’d provide you given a longitude and a latitude were what we have been looking for. The <a class="reference external" href="https://geo.fcc.gov/api/census/#!/area/get_area">Federal Communications Commission Area API</a> allowed us to send in a longitude and latitude, and to get the following data:</p>
<ul class="simple">
<li>county_name</li>
<li>county_fips</li>
<li>state_code</li>
<li>state_name</li>
<li>state_fips</li>
</ul>
<p>If you think about it, this is an awesome tool provided by the American Government, and the fact that we were able to not only collect the relative data of 1,700,000 entries but also to do that in under 2 hours is even more impressive. Long story short, we implemented a multi-threaded program that made about 15,000 requests per minute. We also had to migrate from Sqlite to PostgreSQL, since the former did not have any multi-threading support.</p>
<p>All in all, we were able to to get the geographical data we wanted for 1,700,000 entries, and not only to that for this huge amount of data, but to also do it within two hours, which seemed impossible when we started. We had some failed responses but that is because the sent longitudes and latitudes belonged to Canada, and this failed responses helped us get rid of any entries outside of the United States.</p>
</div>
<div class="section" id="weather-data">
<h3>Weather Data<a class="headerlink" href="#weather-data" title="Permalink to this headline">¶</a></h3>
<p>Also, we were interested in seeing whether weather might have an influence on the data. Also, after taking Prof. Lee, he alerted us that some people might be selling their cars because of floods, and we wanted to keep such idea in our minds for possible further exploration.</p>
<p>Unfortunately, to collect specific data, such as floods at specific counties during specific dates, that would’ve required us to spend thousands of dollars on services that provide such information. Our only hope was to find a governmental data to help us with our data collection. We found <a class="reference external" href="https://www.usclimatedata.com/climate/alabama/united-states/3170">US Climate Data</a> website that had historical weather data for each State. We decides that this might be a long shot but we got the average historical temperature for October and November for each state and incorporated that in our dataset.</p>
</div>
</div>
<div class="section" id="big-questions">
<h2>Big Questions<a class="headerlink" href="#big-questions" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<div class="section" id="what-is-the-best-deal-on-a-used-car">
<h3>What is the Best Deal on a Used Car?<a class="headerlink" href="#what-is-the-best-deal-on-a-used-car" title="Permalink to this headline">¶</a></h3>
<p>To find the best possible deal on an used car, we must first take into consideration the general preferences of the average person looking to buy a vehicle. Therefore, in exploring the dataset, we will use 5 categories to find the best type of vehicles available for purchase, in order to find the best deals on a used car. The 5 categories include the vehicle’s price, manufacturer, condition, state, and year. People who are less knowledgeable about vehicle specifications are more likely to explore these variables when buying a car. Most college students, like ourselves, will be looking for a used car with familiar manufacturers at a cheap price and in good condition. Other variables such as vehicle size will also be taken into consideration as customers will also need to consider what vehicle size is more suitable for them.</p>
<p>To reiterate, the five factors we are focusing on are:</p>
<ul class="simple">
<li>Price</li>
<li>Manufacturer</li>
<li>Condition</li>
<li>State</li>
<li>Year</li>
</ul>
<p>We believe that finding a good car for any individual can take a tremendous amount of research, and that it usually can take a span of a month to two, and that was one of the reasons we wanted to do our analysis on the total amount of cars being sold on Craigslist over a month. We are assuming that 1.7 million cars would be what individuals looking to choose from in any given month, and our exploration is assuming that too.</p>
<p>We’re dealing with 53 unique manufacturers, 6 unique conditions, and 4 car sizes plus 1834 counties and 51 states.</p>
</div>
</div>
<div class="section" id="basic-exploration">
<h2>Basic Exploration<a class="headerlink" href="#basic-exploration" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<div class="section" id="the-distribution-of-the-top-10-car-manufacturers">
<h3>The Distribution of the Top 10 Car Manufacturers<a class="headerlink" href="#the-distribution-of-the-top-10-car-manufacturers" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/manufacturers-chart.png"><img alt="manufacturers-chart" src="_images/manufacturers-chart.png" /></a>
<p>This is the percentage distribution of the cars being manufactured by the top 10 manufacturers.</p>
<a class="reference external image-reference" href="img/manufacturers-bar.png"><img alt="manufacturers-bar" src="_images/manufacturers-bar.png" /></a>
<p>This is the count of the cars being manufactured by the top 10 manufacturers.</p>
<p>Here we are looking to see the distribution of the top 10 manufacturing companies within the dataset. If you prefer Ford vehicles, Ford has the highest number of vehicles available for purchase, meaning you have a large number of vehicles to choose from, and also worry not as the laws of demand and supply will probably be in your favor. Ford is followed by Chevrolet and Toyota. BMW has the lowest number of cars available for sale, so persons who prefer this brand may have a lower chance of finding their ideal vehicle.</p>
</div>
<div class="section" id="the-distribution-of-the-top-10-states-to-buy-a-car-in">
<h3>The Distribution of the Top 10 States to Buy a Car in<a class="headerlink" href="#the-distribution-of-the-top-10-states-to-buy-a-car-in" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/states-chart.png"><img alt="states-chart" src="_images/states-chart.png" /></a>
<p>This is the percentage distribution of the cars being sold in the top 10 states.</p>
<a class="reference external image-reference" href="img/states-bar.png"><img alt="states-bar" src="_images/states-bar.png" /></a>
<p>This is the count of the cars being sold in the top 10 states.</p>
<p>Here we are looking at the top 10 distribution of cars for sale by state. States such as California, with a population of approximately 34 million will generally have more vehicles available for purchase than other states. California has the highest number of vehicles for purchase with less than 160,000 vehicles for sale. States such as Washington will generally have less vehicles available for sale, with a population count of approximately 7 million. Washington has less than 60,000 vehicles available for purchase.</p>
</div>
<div class="section" id="weather-condition-correlation">
<h3>Weather-Condition Correlation<a class="headerlink" href="#weather-condition-correlation" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/weather-vehicle-freq.png"><img alt="weather-vehicle-freq" src="_images/weather-vehicle-freq.png" /></a>
<p>In this graph, we are looking to see the correlations with weather and vehicle conditions, as this is another factor to consider when looking for a vehicle. Individuals looking to buy cars in excellent condition should aim for states generally which are generally between 55-60 degrees in temperature. It should be noted that weather does not have a major effect on the condition of cars for sale, as cars with poor conditions are sold within the similar temperature range are cars in excellent condition.</p>
</div>
<div class="section" id="condition-distribution">
<h3>Condition Distribution<a class="headerlink" href="#condition-distribution" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/condition-count-bar.png"><img alt="condition-count-bar" src="_images/condition-count-bar.png" /></a>
<p>This graph shows the number of vehicles within a specific condition. Vehicles in an excellent condition have the highest number with above 400,000 entries, followed by cars in good and like new condition. Vehicles that are salvaged have the least number of entries with less 25,000 vehicles available for sale. Persons will generally not want to post severely depreciated vehicles for sale, as they are low in value.</p>
</div>
<div class="section" id="size-distribution">
<h3>Size Distribution<a class="headerlink" href="#size-distribution" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/size-count-bar.png"><img alt="size-count-bar" src="_images/size-count-bar.png" /></a>
<p>For individuals concerned about car size, this graph shows the number of vehicles for sale within a specific size. Individuals looking for full-sized vehicles will have over 300,000 entries to look at, whereas persons looking for sub-compact cars will have the least amount of entries to look at, with entries less than 50,000 entries.</p>
</div>
<div class="section" id="average-price-per-condition">
<h3>Average Price per Condition<a class="headerlink" href="#average-price-per-condition" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/avgprice-condition-bar.png"><img alt="avgprice-condition-bar" src="_images/avgprice-condition-bar.png" /></a>
<p>The graph above shows the mean price for each condition. New vehicles have an average sales price of above $20,000, followed by vehicles which are <em>like new</em>, with an average sales price of above $15,000. Individuals looking for cheaper alternatives should look at vehicles with good to fair condition, as they will on average have to spend less than $10,000 for a vehicle. Vehicles with a fair or salvaged condition are most likely severely depreciated, suggesting their low average pricing of less than $5000.</p>
</div>
<div class="section" id="average-price-per-state">
<h3>Average Price per State<a class="headerlink" href="#average-price-per-state" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/avgprice-state-bar.png"><img alt="avgprice-state-bar" src="_images/avgprice-state-bar.png" /></a>
<p>The graph above shows the mean prices for vehicles within each state. Persons looking for cheap vehicles, will be more likely to look at states such as District of Columbia and Delaware, as they both have a mean average of less than $7,500 for cars available for sale. Hawaii has the highest mean cost of vehicles with over $20,000 and there are several factors that could suggest why vehicles are so costly in Hawaii. Some reasons for these could be a higher cost of living in Hawaii or more luxury vehicles are available for purchase in Hawaii.</p>
</div>
<div class="section" id="average-price-per-manufacturer">
<h3>Average Price per Manufacturer<a class="headerlink" href="#average-price-per-manufacturer" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/avgprice-manufacturer-bar.png"><img alt="avgprice-manufacturer-bar" src="_images/avgprice-manufacturer-bar.png" /></a>
<p>This graph shows the mean prices of vehicles for each manufacturer. Luxury vehicles such as ferrari, have a high average sales price of $80,000, followed by aston and aston-martin with average sales prices of less than $60,000. Ferraris and other luxury vehicles are often expensive because they are often built with expensive and high-quality materials and are manufactured to tailor to individuals looking for a high quality vehicle. Persons looking for cheaper alternatives can look to brands such as mercury and volkswagen, who have average sales prices of less than $5,000. Vehicles within this range are more suited for persons with lower budgets, who are more concerned about going from Point A to Point B.</p>
</div>
</div>
<div class="section" id="further-exploration">
<h2>Further Exploration<a class="headerlink" href="#further-exploration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="scatter-plots">
<h3>Scatter Plots<a class="headerlink" href="#scatter-plots" title="Permalink to this headline">¶</a></h3>
</div>
<hr class="docutils" />
<div class="section" id="plotting-prices-and-odometers">
<h3>Plotting Prices and Odometers<a class="headerlink" href="#plotting-prices-and-odometers" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/scatter.png"><img alt="scatter.png" src="_images/scatter.png" /></a>
<p>This scatter plots measures prices and odometers. We can see a clearly defined fall in price as the odometer increases. The graph, however, is quite chaotic with a plethora of outliers. A graph like this would look far better as a line plot, and the sheer amount of data in our dataset doesn’t really lend itself to plotting each individual entry in a plot.</p>
</div>
<div class="section" id="violins">
<h3>Violins<a class="headerlink" href="#violins" title="Permalink to this headline">¶</a></h3>
</div>
<hr class="docutils" />
<div class="section" id="year-distribution-by-condition">
<h3>Year Distribution by Condition<a class="headerlink" href="#year-distribution-by-condition" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/yearConditionViolin.png"><img alt="yearConditionViolin.png" src="_images/yearConditionViolin.png" /></a>
<p>The graph above displays the frequency distributions for cars in the dataset of a certain condition. For individuals more concerned about the condition of their vehicles, they will be more likely to consider
cars of a new condition, as they would have a more recent year of manufacturing(between 2015-2018). Cars in poor/salvaged condition are most likely depreciated vehicles within the range of years 2000-2005. The graph clearly suggests that if you want a vehicle in a great condition, you should purchase a vehicle with a year of manufacturing closest to the most recent year.</p>
<ul class="simple">
<li>The white dot represents the median</li>
<li>The thick gray bar in the center represents the interquartile range</li>
<li>The thin gray line represents the 95% confidence interval</li>
<li>On each side of the gray line is a kernel density estimation to show the distribution shape of the data.</li>
<li>Wider sections of the violin plot represent a higher probability that members of the population will take on the given value;</li>
<li>The skinnier sections represent a lower probability.</li>
</ul>
</div>
<div class="section" id="price-distribution-by-condition">
<h3>Price Distribution by Condition<a class="headerlink" href="#price-distribution-by-condition" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/conditionViolins.png"><img alt="conditionViolins.png" src="_images/conditionViolins.png" /></a>
<p>This violin graph measure the correlation between the price of vehicles and their seller-assigned conditions. We can see a pretty obvious (and unsurprising) hierarchy of new, like new, excellent, good, fair, and salvage. One surprise, however, is the similarity in price between fair and salvage vehicles. This suggests that vehicles deemed “fair” on Craigslist are actually in quite poor condition and worth almost as much as a parts-only car.</p>
</div>
<div class="section" id="line-graphs">
<h3>Line Graphs<a class="headerlink" href="#line-graphs" title="Permalink to this headline">¶</a></h3>
</div>
<hr class="docutils" />
<div class="section" id="mean-median-price-by-odometer">
<h3>Mean/Median Price by Odometer<a class="headerlink" href="#mean-median-price-by-odometer" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/odomPriceLines.png"><img alt="odomPriceLines.png" src="_images/odomPriceLines.png" /></a>
<p>Here we measure the mean/median price as the odometer declines for each category of vehicle condition. We can see that the first four graphs are pretty similar (new, like new, good, and fair) with minor falls between each lesser category. Transitioning from good to fair, however, sees the price nearly bottom out. Clearly a “fair” distinction on Craigslist comes with a major decrease in vehicle quality.</p>
</div>
<div class="section" id="heatmaps">
<h3>Heatmaps<a class="headerlink" href="#heatmaps" title="Permalink to this headline">¶</a></h3>
</div>
<hr class="docutils" />
<div class="section" id="heated-by-number-of-listings-1990-2005">
<h3>Heated by Number of Listings - 1990-2005<a class="headerlink" href="#heated-by-number-of-listings-1990-2005" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/1990-2005.png"><img alt="1990-2005 Map" src="_images/1990-2005.png" /></a>
<p><a class="reference external" href="1990-2005.html">Interactive Version Here - Heated Map by Number of Listings - 1990-2005</a></p>
<p>This map depicts car listings when they were manufactured between 1990 and 2005. This map is quite crowded and while it tells us a lot about the distribution of car listings across the United States, the 1990-2005 filter isn’t very interesting.</p>
</div>
<div class="section" id="heated-by-number-of-listings-1990-1995">
<h3>Heated by Number of Listings - 1990-1995<a class="headerlink" href="#heated-by-number-of-listings-1990-1995" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/1990-1995.png"><img alt="1990-1995 Map" src="_images/1990-1995.png" /></a>
<p><a class="reference external" href="1990-1995.html">Interactive Version Here - Heated Map by Number of Listings - 1990-1995</a></p>
<p>In an effort to narrow our results, lets change the filter to 1990-1995. This thins the map but the distribution is still the same. It does appear that there are substantially less listings in the western United States which could suggest that rural areas have newer cars, but numbers are thinned on the east side as well so it’s difficult to draw any valid conclusions.</p>
</div>
<div class="section" id="heated-by-number-of-listings-toyotas">
<h3>Heated by Number of Listings - Toyotas<a class="headerlink" href="#heated-by-number-of-listings-toyotas" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/toyotas.png"><img alt="Toyotas Map" src="_images/toyotas.png" /></a>
<p><a class="reference external" href="toyotas.html">Interactive Version Here - Heated Map by Number of Listings - Toyotas</a></p>
<p>Perhaps a totally different filter will reveal something interesting. This is a map of Toyotas only, and there’s actually something to see here. Toyotas are quite prevalent in urban areas but they’re nearly extinct in rural ones. We can contribute this to Toyotas reputation for building smaller, cost efficient cars which aren’t quite as desirable in rural areas.</p>
</div>
<div class="section" id="heated-by-number-of-listings-by-county">
<h3>Heated by Number of Listings by County<a class="headerlink" href="#heated-by-number-of-listings-by-county" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/carsForSaleMap.png"><img alt="carsForSaleMap.png" src="_images/carsForSaleMap.png" /></a>
<p><a class="reference external" href="https://plot.ly/~reesau01/2">Interactive Version Here - Heated Map by Number of Listings by County</a></p>
<p>This map displays the number of vehicles listed per county. Unsurprisingly, counties with high amounts of listings lie along the west/east coast, along with Flordia and metropolitan areas throughout the country (Denver, Chicago, Dallas, Minneapolis, etc.). The map also indicates that, with the exception of Denver and the west coast, the west side of the country is quite sparse when it comes to car listings. The east side of the United States contains far more sales.</p>
</div>
<div class="section" id="heated-by-average-price-by-county">
<h3>Heated by Average Price by County<a class="headerlink" href="#heated-by-average-price-by-county" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/priceByCountyMap.png"><img alt="priceByCountyMap.png" src="_images/priceByCountyMap.png" /></a>
<p><a class="reference external" href="https://plot.ly/~reesau01/4">Interactive Version Here - Heated Map by Average Price by County</a></p>
<p>This map graphs the average price of vehicles by county across the United States. One striking observation is the increase in vehicle cost in rural areas. The prices of cars in states such as Idaho, North/South Dakota, and Wyoming, and rural parts of the midwest are far more expensive than those in the Eastern half of the nation. Cars on the East Coast also cost a faire amount less than those on the West Coast, with the coast of California boasting some pretty high prices.</p>
</div>
<div class="section" id="heated-by-correlations">
<h3>Heated by Correlations<a class="headerlink" href="#heated-by-correlations" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="/img/squareHeatmap.png"><img alt="squareHeatmap.png" src="_images/squareHeatmap.png" /></a>
<p>All numeric variables’ correlations are compared in this graph. Most variables aren’t correlated at all, with the exception of moderate negative correlation between price and year, slight negative correlation between year and odometer, and slight positive correlation between year and price. We also see major negative correlation between weather and latitude which isn’t surprising at the slightest for those who are familiar with the planet we live on.</p>
</div>
<div class="section" id="quantile-tables">
<h3>Quantile Tables<a class="headerlink" href="#quantile-tables" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>Lets say we’re searching for a used car, but we have no idea what a fair price would be. Enter quantile tables. These tables aren’t super eye-catching, but they’re very practical tools for determining what we should be paying for a given car. They take two numeric values, and in this example I’ll use odometer (miles the car has been driven) and price given that it’s a very practical combination when searching for a decent used car. The x axis (columns) will be grouped by a range of odometers determined by percentiles. 0-10th percentile may be 0-25000 miles driven, 11-20 could be 25000-50000, etc. Once these groups are determined we slice the our dataframe into 10 separate frames according to which category they fall under (a car with 12500 miles will be in the first group while 45000 will be in the second). Finally, we find percentiles for the prices of cars within each group. This sounds somewhat complicated but the graphs are far easier to understand and resemble simple heatmaps.</p>
</div>
<div class="section" id="grouped-by-odometer-means-of-price">
<h3>Grouped by Odometer - Means of Price<a class="headerlink" href="#grouped-by-odometer-means-of-price" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/all.png"><img alt="all.png" src="_images/all.png" /></a>
<p>Above is a graph featuring the entire dataframe, sorted by odometer with means of price. For example, lets say we wanted to purchase a car with no more than 70000 miles on it. We can check out the fourth column (46000-69295) to get an estimate on what a good price would be. The first row tells us that the top 10% of deals have an average price of $3207, which seems very affordable yet somewhat unrealistic. It would be wise to target a top 30% deal, which would mean that our car would cost less than $10048.</p>
</div>
<div class="section" id="grouped-by-odometer-means-of-price-fords">
<h3>Grouped by Odometer - Means of Price - Fords<a class="headerlink" href="#grouped-by-odometer-means-of-price-fords" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="img/fords.png"><img alt="fords.png" src="_images/fords.png" /></a>
<p>The first graph is great but it’s very broad and if we’re looking to buy a specific car it’s not going to help us very much. Above is a graph plotting the same odometer/price, only this time the data is taken from Fords only. We can see that Ford’s are a little more expensive and have a tad more miles on them, but it’s still not descriptive enough for us data scientists.</p>
<p>Grouped by Odometer - Means of Price - Fords in ‘Good’ Condition</p>
<a class="reference external image-reference" href="img/goodFords.png"><img alt="goodFords.png" src="_images/goodFords.png" /></a>
<p>As broke college students we are not looking for the greatest quality car, so this graph shows Fords with the ‘Good’ condition tag. Now we can see that a top 30% deal our 70000 mile car shouldn’t cost any more than $6000, probably a little less. But still, a Ford in good condition isn’t as descriptive as we’d like as it still applies to a plethora of vehicles.</p>
<p>Grouped by Odometer - Means of Price - Ford Midsize Sedans in ‘Good’ Condition</p>
<a class="reference external image-reference" href="img/goodFordMidsizeSedan.png"><img alt="goodFordMidsizeSedan.png" src="_images/goodFordMidsizeSedan.png" /></a>
<p>Finally, a chart specific enough to draw accurate conclusions from. This chart shows ‘Good’ mid-size sedans manufactured by Ford. We now see that the car that we once thought we should try to buy for less than $10000 should be pursued for no more than $3000. Overall these quantile tables are an excellent way to determine an asking price for a used car, they’re easily automatable (as displayed in the Flask app) and also easy to build by hand.</p>
</div>
</div>
<div class="section" id="flask-app">
<h2>Flask App<a class="headerlink" href="#flask-app" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>To help us browse the data early on (and because it’s cool), we created a Flask app which allows users to create custom graphs displaying information relevant to them. This is the first step in our goal to create something that continues to be relevant beyond its creation. The app does not require any updates in its current form, all it needs to update automatically is a new dataset which can be created using a script that scrapes Craigslist.</p>
</div>
<div class="section" id="world-happiness-index">
<h2>World Happiness Index<a class="headerlink" href="#world-happiness-index" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>We had a lot of free time so we also explored the World Happiness Report dataset and discovered that it is extremely boring.</p>
</div>
<div class="section" id="what-s-next">
<h2>What’s Next<a class="headerlink" href="#what-s-next" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Elon offered us $4.99 for the application and we took the deal.</p>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
</div>
</div>


        </div>
      </div>

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
            <input type="text" name="q" placeholder="Search..." />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">

          
  
    
  
  
    <div class="local-toc"><ul>
<li><a class="reference internal" href="#"><span class="raw-html-m2r"><center> Used Cars for Sale in the United States </center></span></a><ul>
<li><a class="reference internal" href="#our-motivation">Our Motivation</a></li>
<li><a class="reference internal" href="#the-dataset">The Dataset</a></li>
<li><a class="reference internal" href="#initial-creation">Initial Creation</a></li>
<li><a class="reference internal" href="#secondary-data-gathering">Secondary Data Gathering</a><ul>
<li><a class="reference internal" href="#merging-data">Merging Data</a></li>
<li><a class="reference internal" href="#finding-geographical-information">Finding Geographical Information</a></li>
<li><a class="reference internal" href="#weather-data">Weather Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#big-questions">Big Questions</a><ul>
<li><a class="reference internal" href="#what-is-the-best-deal-on-a-used-car">What is the Best Deal on a Used Car?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#basic-exploration">Basic Exploration</a><ul>
<li><a class="reference internal" href="#the-distribution-of-the-top-10-car-manufacturers">The Distribution of the Top 10 Car Manufacturers</a></li>
<li><a class="reference internal" href="#the-distribution-of-the-top-10-states-to-buy-a-car-in">The Distribution of the Top 10 States to Buy a Car in</a></li>
<li><a class="reference internal" href="#weather-condition-correlation">Weather-Condition Correlation</a></li>
<li><a class="reference internal" href="#condition-distribution">Condition Distribution</a></li>
<li><a class="reference internal" href="#size-distribution">Size Distribution</a></li>
<li><a class="reference internal" href="#average-price-per-condition">Average Price per Condition</a></li>
<li><a class="reference internal" href="#average-price-per-state">Average Price per State</a></li>
<li><a class="reference internal" href="#average-price-per-manufacturer">Average Price per Manufacturer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#further-exploration">Further Exploration</a><ul>
<li><a class="reference internal" href="#scatter-plots">Scatter Plots</a></li>
<li><a class="reference internal" href="#plotting-prices-and-odometers">Plotting Prices and Odometers</a></li>
<li><a class="reference internal" href="#violins">Violins</a></li>
<li><a class="reference internal" href="#year-distribution-by-condition">Year Distribution by Condition</a></li>
<li><a class="reference internal" href="#price-distribution-by-condition">Price Distribution by Condition</a></li>
<li><a class="reference internal" href="#line-graphs">Line Graphs</a></li>
<li><a class="reference internal" href="#mean-median-price-by-odometer">Mean/Median Price by Odometer</a></li>
<li><a class="reference internal" href="#heatmaps">Heatmaps</a></li>
<li><a class="reference internal" href="#heated-by-number-of-listings-1990-2005">Heated by Number of Listings - 1990-2005</a></li>
<li><a class="reference internal" href="#heated-by-number-of-listings-1990-1995">Heated by Number of Listings - 1990-1995</a></li>
<li><a class="reference internal" href="#heated-by-number-of-listings-toyotas">Heated by Number of Listings - Toyotas</a></li>
<li><a class="reference internal" href="#heated-by-number-of-listings-by-county">Heated by Number of Listings by County</a></li>
<li><a class="reference internal" href="#heated-by-average-price-by-county">Heated by Average Price by County</a></li>
<li><a class="reference internal" href="#heated-by-correlations">Heated by Correlations</a></li>
<li><a class="reference internal" href="#quantile-tables">Quantile Tables</a></li>
<li><a class="reference internal" href="#grouped-by-odometer-means-of-price">Grouped by Odometer - Means of Price</a></li>
<li><a class="reference internal" href="#grouped-by-odometer-means-of-price-fords">Grouped by Odometer - Means of Price - Fords</a></li>
</ul>
</li>
<li><a class="reference internal" href="#flask-app">Flask App</a></li>
<li><a class="reference internal" href="#world-happiness-index">World Happiness Index</a></li>
<li><a class="reference internal" href="#what-s-next">What’s Next</a></li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
</div>
  


        </div>

        

      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="_sources/index.md.txt" rel="nofollow"> source</a>
                    
                </li>
            

            

            
        </ul>
        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/Autophagy/insegel">Insegel</a>

        </div>
    </div>

    <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

    <script type="text/javascript">
      $("#menu-toggle").click(function() {
        $("#menu-toggle").toggleClass("toggled");
        $("#side-menu-container").slideToggle(300);
      });
    </script>

</footer> 

</div>

</body>
</html>